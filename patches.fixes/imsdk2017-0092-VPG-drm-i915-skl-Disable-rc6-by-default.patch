From 70a74d714211a92110d50f103b834b019f9afd78 Mon Sep 17 00:00:00 2001
From: Zhipeng Gong <zhipeng.gong@intel.com>
Date: Thu, 25 Feb 2016 08:49:21 -0500
Subject: [PATCH 092/143] [VPG]: drm/i915/skl: Disable rc6 by default

It is to avoid the random GPU hangs.
---
 drivers/gpu/drm/i915/intel_pm.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/drivers/gpu/drm/i915/intel_pm.c b/drivers/gpu/drm/i915/intel_pm.c
index 9306f1c..02bc122 100644
--- a/drivers/gpu/drm/i915/intel_pm.c
+++ b/drivers/gpu/drm/i915/intel_pm.c
@@ -4635,6 +4635,9 @@ static int sanitize_rc6_option(const struct drm_device *dev, int enable_rc6)
 	if (INTEL_INFO(dev)->gen < 6)
 		return 0;
 
+	if (IS_SKYLAKE(dev))
+		return 0;
+
 	/* Respect the kernel parameter if it is set */
 	if (enable_rc6 >= 0) {
 		int mask;
-- 
1.7.1

