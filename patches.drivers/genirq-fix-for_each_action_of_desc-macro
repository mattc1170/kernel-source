From: Masahiro Yamada <yamada.masahiro@socionext.com>
Date: Wed, 9 Aug 2017 15:32:21 +0900
Subject: genirq: Fix for_each_action_of_desc() macro
Git-commit: 163616cf2f6ab7a8e37452ec00320039ab65bd45
Patch-mainline: v4.14-rc1
References: bsc#1061064

struct irq_desc does not have a member named "act".  The correct
name is "action".

Currently, all users of this macro use an iterator named "action".
If a different name is used, it will cause a build error.

Fixes: f944b5a7aff0 ("genirq: Use a common macro to go through the actions list")
Signed-off-by: Masahiro Yamada <yamada.masahiro@socionext.com>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Cc: Marc Zyngier <marc.zyngier@arm.com>
Cc: Daniel Lezcano <daniel.lezcano@linaro.org>
Cc: Jason Cooper <jason@lakedaemon.net>
Link: http://lkml.kernel.org/r/1502260341-28184-1-git-send-email-yamada.masahiro@socionext.com

Acked-by: Joerg Roedel <jroedel@suse.de>
---
 kernel/irq/internals.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/kernel/irq/internals.h
+++ b/kernel/irq/internals.h
@@ -133,7 +133,7 @@ static inline void chip_bus_sync_unlock(
 #define IRQ_GET_DESC_CHECK_PERCPU	(_IRQ_DESC_CHECK | _IRQ_DESC_PERCPU)
 
 #define for_each_action_of_desc(desc, act)			\
-	for (act = desc->act; act; act = act->next)
+	for (act = desc->action; act; act = act->next)
 
 struct irq_desc *
 __irq_get_desc_lock(unsigned int irq, unsigned long *flags, bool bus,
